#include<conio.h>
#include<iostream>
#include<cctype>

using namespace std;

main(){
	string correo;
	char OP='S';
	int i, j, k, x, contarooba=0, contpunto=0;
	while(OP=='S'){
		system("cls");
		cout <<"ingrese esa monda: ";
		cin>>correo;
		if(correo.size()<=6||correo.size()>=30){
			cout << "debe tener minimo 6 y maximo 30";
			OP='N';
		}
		for(i=0;i<correo.size();i++){
			if(!(((correo[i]>='A')||correo[i]<='Z')||(correo[i]>='a')||(correo[i]<='z')||correo[i]>='0'||(correo[i]<=9)||(correo[i] == '.' || correo[i] == '@'))){
				cout <<"Solo se permiten letras, nÃºmeros el punto y la @";
				OP='N';
			}
		}
		for(j=0;j<=correo.size();j++){
			if(correo[j]=='@'){
				contarooba++;
			}
		}
		cout << endl;
		
		if(contarooba!=1){
			cout <<"solo se permite un solo @";
			OP='N';
		}
		cout << endl;
		for(k=0; k<=correo.size();k++){
			
			if(correo[k]=='.'){
				contpunto++;
				if(k > 0 && correo[k - 1]== '.'){
					cout <<endl;
					cout << "los puntos no pueden estar juntos";
					break;		
				}
			}
		}
		if(contpunto>2){
			cout << "solo se permiten maximo dos puntos";
			OP='N';
		}
		cout << endl;
		if(correo[0]=='.'||correo[0]=='@'){
			cout << "el correo no puede inicar con un punto o un arroba";
			OP='N';
			cout << endl;
		}
		if(correo[correo.size()-1]=='.'||correo[correo.size()-1]=='@'){
			cout << "el correo no puede terminar con un punto o un arroba";
			OP='N';
			cout <<endl;
		}
		
		for(x=0; x<=correo[x]; x++){
			if(((correo[x]=='@')&&(correo[x-1]=='.'))||((correo[x]=='.')&&(correo[x-1]=='@'))){
				cout << "erro";
			}
		}
		
		do{
			cout << "\ndesea continuar S/N ";
			OP=getche();
			OP=toupper(OP);	
		}while((OP!='N')&&(OP!='S'));
	}
}
